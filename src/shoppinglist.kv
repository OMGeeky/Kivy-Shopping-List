#<ShoppingEntry>:
#    orientation: 'horizontal'
#    CheckBox:
#        active: root.is_checked
#    Label:
#        text: root.text
#    Button:
#        background_normal: 'res/delete.png'

<FloatButton@FloatLayout>
    id: float_root  # Giving id to button
    size_hint: (None, None)
    text: ''
    btn_size: (70, 70)
    size: (70, 70)
    bg_color: (0.404, 0.227, 0.718, 1.0)
 
    # Adding shape and all, size, position to button
    Button:
        text: float_root.text
        markup: True
        font_size: 40
        size_hint: (None, None)
        size: float_root.btn_size
        pos_hint: {'right': 8.5, 'top': 1.25}
        background_normal: ''
        background_color: (0, 0, 0, 0)
        canvas.before:
            Color:
                rgba: (0.3, 0.5, 0.2, 1.0)
            Ellipse:
                size: self.size
                pos: self.pos

<MainScreen>:
    shop: shop

    name: 'main'
    MainTitleBar:
    BoxLayout:
        id: shop
        orientation: 'vertical'
    FloatButton:
        text: '+'
        markup: True
        background_color: 1, 0, 1, 0

<SettingsScreen>:
    name: 'settings'
    SettingsTitleBar:
    Label:
        text: 'hi settings'


<MainTitleBar@ActionBar>:
    pos_hint: {'top':1}
    ActionView:
        ActionPrevious:
            title: 'Shopping Liste'
            app_icon: 'res/shopping_bag.png'
            with_previous: False
        ActionButton:
            text: 'Sort'
            icon: 'res/filter_list.png'
        ActionButton:
            text: 'Settings'
            icon: 'res/settings.png'
            on_release: 
                app.root.ids.sm.current = 'settings'
                app.root.ids.sm.transition.direction = 'left'

<SettingsTitleBar@ActionBar>:
    pos_hint: {'top':1}
    ActionView:
        ActionPrevious:
            title: 'Einstellungen'
            app_icon: 'res/settings.png'
            on_release: 
                app.root.ids.sm.current = 'main'
                app.root.ids.sm.transition.direction = 'right'

#<MainPage>:
#    ScreenManager:
#        id: sm
#        MainScreen:
#        SettingsScreen

<ShoppingEntry>:
    id: shopping_entry
    markup: True

    ImageLeftWidget:
        MDCheckbox:
            id: shopping_entry_check
            # bind to property

    IconRightWidget:
        icon: 'res/delete.png'
        on_release: root.delete(shopping_entry)

<AddDialog>:
    size_hint: 1, None
    height: '40dp'
    orientation: 'vertical'
    spacing: '5dp'

    MDTextField:
        id: shopping_entry_text
        pos_hint: { 'center_y': 0.4 }
        # SPRACHE
        hint_text: 'Neuer Eintrag'
        

MDFloatLayout:

    MDTopAppBar:
        #SPRACHE
        title: 'Shopping-List-App'
        md_bg_color: app.theme_cls.accent_color
        right_action_items: [['res/settings.png', lambda x: app.navigate_to_settings()]]

    ScrollView:
        size_hint: 0.9, 0.9
        pos_hint: { 'center_y': 0.5, 'center_x': 0.5 }
        MDList:
            id: shopping_list

    MDFloatingActionButton:
        icon: 'plus'
        elevation_normal: 5
        pos_hint: { 'x': 0.9, 'y': 0.05 }
        on_release: app.open_add_popup()
